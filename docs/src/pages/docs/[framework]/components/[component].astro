---
import { parse } from 'path'
import { panda } from '../../../../../panda/jsx'
import { markdown } from '../../../../../panda/recipes'
import Showcase from '../../../../components/Showcase.astro'
import DocsLayout from '../../../../layouts/DocsLayout.astro'

export async function getStaticPaths() {
  const frameworks = ['react', 'solid', 'vue']
  const components = await Astro.glob('../../../../../../packages/react/src/**/*.mdx')

  return components.map((component) =>
    frameworks.map((framework) => ({
      params: {
        component: parse(component.file).name,
        framework,
      },
      props: {
        component,
      },
    })),
  )
}

const { Content } = Astro.props.component
---

<DocsLayout>
  <panda.article className={markdown()}>
    <Content components={{ Showcase }} />
  </panda.article>
</DocsLayout>
